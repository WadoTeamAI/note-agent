# ノート記事自動生成エージェント 📝

日本語のnote記事を自動生成する統合AIエージェントアプリケーション

## 概要

ノート記事自動生成エージェントは、Google Gemini AIを活用して、キーワードから完全なnote記事を自動生成するWebアプリケーションです。**統合リサーチ機能**を起点とした7段階のAIワークフローを通じて、最新トレンド分析、SEO最適化、記事執筆、画像生成、SNS展開文まで一気通貫で自動化します。

**「リサーチと戦略に集中できる環境」**を提供し、AIっぽくない自然な文章で読者に響く記事を生成します。note特化の最適化により、プラットフォームのアルゴリズムを理解した記事構成を実現し、スキ数・閲覧数の向上を支援します。

### ターゲットユーザー

- 📝 **note運営者**: 定期的に記事を投稿したいが、リサーチや執筆に時間がかかる方
- 💼 **企業の広報担当**: ブランド一貫性を保ちながら、効率的にコンテンツを発信したい方
- ✏️ **ライター志望者**: AIを活用してライティングスキルを学びながら記事を量産したい方
- 📱 **SNSマーケター**: noteとSNSを連携させた戦略的な情報発信を行いたい方
- 🚀 **個人ブロガー**: SEOに強い記事で読者を増やしたい方

### 主な機能

- 🔬 **統合リサーチ機能**【主力機能】: Google Search API、noteプラットフォーム分析、SNSトレンド調査を統合した包括的なリサーチ
- 🔍 **SEO分析**: 検索意図の深掘りとnoteアルゴリズムに最適化された構成提案
- 📋 **記事構造生成**: タイトル、メタディスクリプション、セクション、FAQを含む構造化されたアウトライン
- ✍️ **自然な記事執筆**: AIっぽくない人間らしい文体。翻訳調の排除、体験談挿入、共感性重視
- 🎨 **マルチモーダル画像生成**: 
  - アイキャッチ画像（Gemini Imagen 3）
  - 差し込み図解（プロセス図、比較表、グラフ等）
- 🐦 **X告知文生成**: ターゲット別に5パターン以上の訴求文を自動生成。長文・スレッド形式にも対応
- 📊 **リアルタイム進捗表示**: 7段階の生成プロセスを可視化
- 📏 **長文対応**: 2,500 / 5,000 / 10,000文字の記事生成に対応

## 技術スタック

- **フロントエンド**: React + TypeScript
- **ビルドツール**: Vite
- **AI モデル**: 
  - Google Gemini 2.5 Pro (テキスト生成 - 高品質なライティング）
  - Google Imagen 3 (画像生成 - アイキャッチ・差し込み図解）
- **外部API連携**: 
  - Google Search API（検索トレンド分析）
  - note API（将来対応）
  - X API（将来対応）
- **スタイリング**: CSS Modules
- **データ管理**: ローカルストレージ（Phase 1） → Supabase（Phase 2以降）

## セットアップ

### 必要要件

- Node.js (v18以上推奨)
- Google Gemini API キー

### インストール手順

1. リポジトリをクローン
```bash
git clone <repository-url>
cd note-agent
```

2. 依存関係をインストール
```bash
npm install
```

3. 環境変数を設定

`.env.local`ファイルをプロジェクトルートに作成し、Gemini APIキーを設定：
```bash
GEMINI_API_KEY=your_api_key_here
```

4. 開発サーバーを起動
```bash
npm run dev
```

アプリケーションは http://localhost:3000 で起動します。

## 開発コマンド

```bash
# 開発サーバー起動
npm run dev

# プロダクションビルド
npm run build

# プロダクションビルドのプレビュー
npm run preview
```

## 使い方

### 入力項目

1. **キーワード or YouTube URL**: 記事のメインテーマを入力
2. **トーン選択**: 記事の文体（丁寧/フレンドリー/専門的 等）
3. **ターゲット読者**: 想定読者層（初心者/中級者/上級者）
4. **記事の長さ**: 目標文字数（2,500 / 5,000 / 10,000文字）
5. **画像生成オプション**: アイキャッチのみ or 差し込み図解も含む
6. **生成開始**: 送信ボタンをクリックして記事生成を開始

### 生成プロセス（7段階のワークフロー）

生成プロセスは以下の7段階で進行します：

0. 🔬 **RESEARCH**: 統合リサーチ（Google検索トレンド、noteプラットフォーム分析、SNSトレンド調査）
1. 🔍 **ANALYZING**: SEO分析とnoteアルゴリズム最適化
2. 📝 **OUTLINING**: 記事構造の作成（JSON形式で設計）
3. ✍️ **WRITING**: 記事の執筆（自然な文体、体験談挿入、AIっぽさ排除）
4. 🎨 **IMAGE_GENERATION**: 画像生成
   - アイキャッチ画像
   - 差し込み図解（オプション）
5. 🐦 **X_POST_GENERATION**: X告知文生成（複数パターン + スレッド展開）
6. ✅ **OUTPUT**: 出力整形とUI表示

### 出力される成果物

- ✅ Markdown形式の記事本文
- ✅ メタディスクリプション
- ✅ アイキャッチ画像（base64形式）
- ✅ 差し込み図解（オプション）
- ✅ X告知文（5パターン以上、ターゲット別）
- ✅ スレッド形式投稿文
- ✅ リサーチデータ（トレンド情報、SEOキーワード、noteの人気パターン）

## アーキテクチャ

### ディレクトリ構造

```
note-agent/
├── src/
│   ├── App.tsx                      # メインアプリケーションコンポーネント
│   ├── index.tsx                    # エントリーポイント
│   │
│   ├── components/                  # UIコンポーネント
│   │   ├── forms/                   # フォーム関連コンポーネント
│   │   │   └── InputGroup.tsx       # 入力フォームコンポーネント
│   │   ├── display/                 # 表示関連コンポーネント
│   │   │   └── OutputDisplay.tsx    # 結果表示コンポーネント
│   │   └── feedback/                # フィードバックコンポーネント
│   │       └── StepIndicator.tsx    # 進捗インジケーター
│   │
│   ├── services/                    # 外部サービス連携層
│   │   ├── ai/                      # AI関連サービス
│   │   │   └── geminiService.ts     # Gemini AI API統合
│   │   ├── research/                # リサーチ機能
│   │   │   ├── searchService.ts     # Google Search API連携
│   │   │   ├── noteAnalyzer.ts      # noteプラットフォーム分析
│   │   │   └── trendAnalyzer.ts     # SNSトレンド分析
│   │   └── api/                     # 将来的な外部API連携用
│   │       └── (future endpoints)   # note API、X API等
│   │
│   ├── hooks/                       # カスタムReactフック
│   │   └── (custom hooks)           # 状態管理、副作用処理等
│   │
│   ├── types/                       # TypeScript型定義
│   │   ├── index.ts                 # 共通型定義
│   │   ├── article.types.ts         # 記事関連の型
│   │   └── api.types.ts             # API関連の型
│   │
│   ├── config/                      # 設定ファイル
│   │   ├── constants.ts             # アプリケーション定数
│   │   └── env.ts                   # 環境変数管理
│   │
│   ├── utils/                       # ユーティリティ関数
│   │   ├── formatting.ts            # フォーマット関連
│   │   └── validation.ts            # バリデーション関連
│   │
│   └── styles/                      # グローバルスタイル
│       └── (global styles)          # CSS Modules、共通スタイル
│
├── public/                          # 静的アセット
├── vite.config.ts                   # Vite設定
├── tsconfig.json                    # TypeScript設定
└── package.json                     # プロジェクト依存関係
```

### 設計思想

**保守性とスケーラビリティを重視した構成**

- **レイヤー分離**: UIコンポーネント、ビジネスロジック、外部サービス連携を明確に分離
- **機能別分類**: 
  - コンポーネントを`forms/`、`display/`、`feedback/`に分類し、役割を明確化
  - サービスを`ai/`、`research/`、`api/`に分類し、責務を分離
- **拡張性**: 
  - 将来的な外部API連携に備えた`services/api/`ディレクトリ
  - モジュール化されたリサーチ機能で新規データソース追加が容易
  - メモリ機能（Phase 2）の段階的実装に対応
- **型安全性**: 型定義を`types/`ディレクトリで一元管理（記事、API、リサーチ等）
- **再利用性**: カスタムフックやユーティリティ関数を独立したディレクトリで管理
- **設定の集約**: 環境変数や定数を`config/`で一元管理し、変更に強い構造

### データフロー

1. **ユーザー入力**: キーワード、トーン、読者層、記事の長さ、画像オプション
2. **統合リサーチ（Step 0）**: 
   - Google Search API で検索トレンド取得
   - note プラットフォームで人気記事分析
   - SNS でトレンド調査
   - 結果を統合してリサーチデータ生成
3. **記事生成ワークフロー（Step 1-6）**: 
   - サービス層を通じて順次API呼び出しが実行
   - 各ステップで`currentStep`状態が更新され、進捗が表示
   - Gemini 2.5 Pro でテキスト生成
   - Imagen 3 で画像生成
4. **最終出力**: 
   - Markdown形式の記事本文
   - base64形式の画像（アイキャッチ + 差し込み図解）
   - X告知文（複数パターン + スレッド）
   - メタディスクリプション
   - リサーチデータ
5. **UI表示**: 整形された結果を表示し、各種コピー機能を提供

### コンテンツ生成ルール

AIサービスには自然で人間らしい文章を生成するための特別な指示が含まれています：

**禁止表現の徹底**:
- 「〜することができます」 → 「〜できます」or 別の自然な表現
- 「〜について説明します」 → 直接内容に入る
- 定型的なAI文章パターンの回避

**共感性の重視**:
- 少なくとも2〜3箇所に「体験談」「具体例」を挿入
- 読者への問いかけや寄り添う表現
- 温かみのある言葉選び

**note特化最適化**:
- noteプラットフォームのアルゴリズムを理解した構成
- noteで人気の記事パターンを分析・適用
- スキ数・閲覧数が伸びやすい訴求ポイントを考慮

**SEO最適化**:
- 検索意図に沿った内容構成
- 最新のトレンドと検索ボリュームを反映
- 関連キーワードの自然な配置

**

## ロードマップ

### Phase 1（現在）- MVP
- ✅ 統合リサーチ機能
- ✅ SEO分析・記事構成生成
- ✅ 本文生成（AIっぽくないライティング）
- ✅ アイキャッチ画像生成
- ✅ X告知文生成（基本パターン）

### Phase 1.5（早期追加予定）
- ⚪ 差し込み図解生成
- ⚪ スレッド形式展開
- ⚪ 10,000文字対応

### Phase 2以降
- 🔲 note自動投稿API連携
- 🔲 X自動投稿API連携
- 🔲 記事履歴データベース化（Supabase）
- 🔲 効果測定・分析機能
- 🔲 **メモリ機能**（投稿スタイル記憶・パーソナライズ）
  - ユーザーの文体・表現の癖を学習
  - ブランド一貫性の維持
  - 過去記事との重複回避
  - 成功パターンの再現

### Phase 3以降
- 🔲 記事履歴管理＋分析ダッシュボード
- 🔲 A/Bテスト機能
- 🔲 X/Threads/Instagram同時投稿
- 🔲 予約投稿・スケジューリング機能

## 差別化ポイント

1. **統合リサーチ機能**: Google Search、note、SNSトレンドを統合分析（主力機能）
2. **AIっぽくないライティング**: 翻訳調排除、共感性重視、体験談挿入による自然な文体
3. **note特化最適化**: noteアルゴリズム理解に基づいた構成・表現の最適化
4. **マルチモーダル生成**: 差し込み図解を自動生成し、視覚的に理解しやすい記事を実現
5. **SNS展開統合**: X告知文、スレッド展開まで自動生成し、記事公開後の拡散まで支援
6. **日本語特化**: Gemini 2.5 Proの高度な日本語処理能力を最大限活用

## ライセンス

MIT License

## 参考リンク

- [Google Gemini API Documentation](https://ai.google.dev/)
- [Vite Documentation](https://vitejs.dev/)
- [React Documentation](https://react.dev/)
- [要件定義書](./requirements.md) - 詳細な機能仕様
